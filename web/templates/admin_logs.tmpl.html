{{ define "title" }}Админ: логи по пользователю — Learny{{ end }}
{{ template "base.tmpl.html" . }}
{{ define "content" }}

<h1>Логи по пользователю</h1>

{{ if .Summary }}

  <p>
    Пользователь: <strong>{{ .Summary.UserEmail }}</strong><br>
    Итого попыток: <strong>{{ .Summary.Attempts }}</strong><br>
    Верных ответов: <strong>{{ .Summary.Correct }}</strong>,
    неверных: <strong>{{ .Summary.Wrong }}</strong><br>
    Последняя активность: <strong>{{ .Summary.LastAt }}</strong>
  </p>

  <table>
    <tr>
      <th>Время</th>
      <th>Действие</th>
      <th>Детали</th>
    </tr>

    {{ range .Rows }}
    <tr>
      <td>{{ .When }}</td>
      <td>{{ .Action }}</td>
      <td>{{ .Detail }}</td>
    </tr>
    {{ end }}
  </table>

  {{ if not .Rows }}
    <p>По этому пользователю ещё нет записей.</p>
  {{ end }}

{{ else }}

  <p>Выберите пользователя, чтобы посмотреть его логи:</p>

  <ul>
    {{ range .Users }}
      <li><a href="/admin/logs?user_id={{ .ID }}">{{ .Email }}</a></li>
    {{ end }}
  </ul>

{{ end }}

{{ end }}
